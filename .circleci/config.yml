version: 2.1

# Define the jobs we want to run for this project
jobs:
  build:
    docker:
      - image: jdillarstone/my_image
        auth:
          username: jdillarstone
          password: cfd776ed-e16f-4426-a6f6-dd8aa30054dc # access token specific to this project
    steps:
      - run: python --version           # For debugging
      - run: sudo apt-get update -qy    # updates the package lists to get information on the newest versions of packages and their dependencies

  job2:
    steps:
      - run: sudo apt-get install -y python3-pip
      - run: pip install virtualenv #start a virtual environment specifc to th project
      - run: virtualenv venv
      - run: source venv/bin/activate
      - run: pip install -r requirements.txt #installtherequirementsfortheprojectitself.


# Defining circle-ci workflows and dependencies
workflows:
  version: 2.1
  jobs:
    - job1
    - job2:
        requires:
          - job1